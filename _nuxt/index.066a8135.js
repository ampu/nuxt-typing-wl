import{r as B,z as nt,A as st,B as K,C as q,u as X,D as p,E as rt,F as ot,c as E,G,H as at,I as O,d as P,f as C,k as T,l as M,m as u,q as k,s as S,v as R,J as U,t as V,K as z,L as it,M as ct,N as lt,x as Q,y as Y,O as ut,P as dt,Q as ft,R as _t}from"./entry.91399f53.js";import{d as pt}from"./defu.5a7c1433.js";import{_ as W}from"./_plugin-vue_export-helper.c27b6911.js";const ht=()=>null;function yt(...s){const r=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(r);let[n,e,t={}]=s;if(typeof n!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");t.server=t.server??!0,t.default=t.default??ht,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0;const o=X(),i=()=>o.isHydrating?o.payload.data[n]:o.static.data[n],c=()=>i()!==void 0;o._asyncData[n]||(o._asyncData[n]={data:B(i()??t.default()),pending:B(!c()),error:nt(o.payload._errors,n),status:B("idle")});const a={...o._asyncData[n]};a.refresh=a.execute=(l={})=>{if(o._asyncDataPromises[n]){if(l.dedupe===!1)return o._asyncDataPromises[n];o._asyncDataPromises[n].cancelled=!0}if((l._initial||o.isHydrating&&l._initial!==!1)&&c())return i();a.pending.value=!0,a.status.value="pending";const h=new Promise((d,g)=>{try{d(e(o))}catch(y){g(y)}}).then(d=>{if(h.cancelled)return o._asyncDataPromises[n];let g=d;t.transform&&(g=t.transform(d)),t.pick&&(g=mt(g,t.pick)),a.data.value=g,a.error.value=null,a.status.value="success"}).catch(d=>{if(h.cancelled)return o._asyncDataPromises[n];a.error.value=d,a.data.value=p(t.default()),a.status.value="error"}).finally(()=>{h.cancelled||(a.pending.value=!1,o.payload.data[n]=a.data.value,a.error.value&&(o.payload._errors[n]=rt(a.error.value)),delete o._asyncDataPromises[n])});return o._asyncDataPromises[n]=h,o._asyncDataPromises[n]};const f=()=>a.refresh({_initial:!0}),_=t.server!==!1&&o.payload.serverRendered;{const l=ot();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const d=l._nuxtOnBeforeMountCbs;l&&(st(()=>{d.forEach(g=>{g()}),d.splice(0,d.length)}),K(()=>d.splice(0,d.length)))}_&&o.isHydrating&&c()?(a.pending.value=!1,a.status.value=a.error.value?"error":"success"):l&&(o.payload.serverRendered&&o.isHydrating||t.lazy)&&t.immediate?l._nuxtOnBeforeMountCbs.push(f):t.immediate&&f(),t.watch&&q(t.watch,()=>a.refresh());const h=o.hook("app:data:refresh",d=>{if(!d||d.includes(n))return a.refresh()});l&&K(h)}const m=Promise.resolve(o._asyncDataPromises[n]).then(()=>a);return Object.assign(m,a),m}function mt(s,r){const n={};for(const e of r)n[e]=s[e];return n}const gt={ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1};function vt(s,r={}){r={...gt,...r};const n=Z(r);return n.dispatch(s),n.toString()}function Z(s){const r=[];let n=[];const e=t=>{r.push(t)};return{toString(){return r.join("")},getContext(){return n},dispatch(t){return s.replacer&&(t=s.replacer(t)),this["_"+(t===null?"null":typeof t)](t)},_object(t){if(t&&typeof t.toJSON=="function")return this._object(t.toJSON());const o=/\[object (.*)]/i,i=Object.prototype.toString.call(t),c=o.exec(i),a=c?c[1].toLowerCase():"unknown:["+i.toLowerCase()+"]";let f=null;if((f=n.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+f+"]");if(n.push(t),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return e("buffer:"),e(t.toString("utf8"));if(a!=="object"&&a!=="function"&&a!=="asyncfunction")this["_"+a]?this["_"+a](t):s.ignoreUnknown||this._unkown(t,a);else{let _=Object.keys(t);s.unorderedObjects&&(_=_.sort()),s.respectType!==!1&&!J(t)&&_.splice(0,0,"prototype","__proto__","letructor"),s.excludeKeys&&(_=_.filter(function(m){return!s.excludeKeys(m)})),e("object:"+_.length+":");for(const m of _)this.dispatch(m),e(":"),s.excludeValues||this.dispatch(t[m]),e(",")}},_array(t,o){if(o=typeof o<"u"?o:s.unorderedArrays!==!1,e("array:"+t.length+":"),!o||t.length<=1){for(const a of t)this.dispatch(a);return}const i=[],c=t.map(a=>{const f=Z(s);return f.dispatch(a),i.push(f.getContext()),f.toString()});return n=[...n,...i],c.sort(),this._array(c,!1)},_date(t){return e("date:"+t.toJSON())},_symbol(t){return e("symbol:"+t.toString())},_unkown(t,o){if(e(o),!!t&&(e(":"),t&&typeof t.entries=="function"))return this._array(Array.from(t.entries()),!0)},_error(t){return e("error:"+t.toString())},_boolean(t){return e("bool:"+t.toString())},_string(t){e("string:"+t.length+":"),e(t.toString())},_function(t){e("fn:"),J(t)?this.dispatch("[native]"):this.dispatch(t.toString()),s.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),s.respectFunctionProperties&&this._object(t)},_number(t){return e("number:"+t.toString())},_xml(t){return e("xml:"+t.toString())},_null(){return e("Null")},_undefined(){return e("Undefined")},_regexp(t){return e("regex:"+t.toString())},_uint8array(t){return e("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray(t){return e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array(t){return e("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array(t){return e("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array(t){return e("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array(t){return e("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array(t){return e("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array(t){return e("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array(t){return e("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer(t){return e("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url(t){return e("url:"+t.toString())},_map(t){e("map:");const o=[...t];return this._array(o,s.unorderedSets!==!1)},_set(t){e("set:");const o=[...t];return this._array(o,s.unorderedSets!==!1)},_file(t){return e("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob(){if(s.ignoreUnknown)return e("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow(){return e("domwindow")},_bigint(t){return e("bigint:"+t.toString())},_process(){return e("process")},_timer(){return e("timer")},_pipe(){return e("pipe")},_tcp(){return e("tcp")},_udp(){return e("udp")},_tty(){return e("tty")},_statwatcher(){return e("statwatcher")},_securecontext(){return e("securecontext")},_connection(){return e("connection")},_zlib(){return e("zlib")},_context(){return e("context")},_nodescript(){return e("nodescript")},_httpparser(){return e("httpparser")},_dataview(){return e("dataview")},_signal(){return e("signal")},_fsevent(){return e("fsevent")},_tlswrap(){return e("tlswrap")}}}function J(s){return typeof s!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code]\s+}$/i.exec(Function.prototype.toString.call(s))!=null}class F{constructor(r,n){r=this.words=r||[],this.sigBytes=n!==void 0?n:r.length*4}toString(r){return(r||xt).stringify(this)}concat(r){if(this.clamp(),this.sigBytes%4)for(let n=0;n<r.sigBytes;n++){const e=r.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=e<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<r.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=r.words[n>>>2];return this.sigBytes+=r.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new F([...this.words])}}const xt={stringify(s){const r=[];for(let n=0;n<s.sigBytes;n++){const e=s.words[n>>>2]>>>24-n%4*8&255;r.push((e>>>4).toString(16),(e&15).toString(16))}return r.join("")}},wt={stringify(s){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[];for(let e=0;e<s.sigBytes;e+=3){const t=s.words[e>>>2]>>>24-e%4*8&255,o=s.words[e+1>>>2]>>>24-(e+1)%4*8&255,i=s.words[e+2>>>2]>>>24-(e+2)%4*8&255,c=t<<16|o<<8|i;for(let a=0;a<4&&e*8+a*6<s.sigBytes*8;a++)n.push(r.charAt(c>>>6*(3-a)&63))}return n.join("")}},bt={parse(s){const r=s.length,n=[];for(let e=0;e<r;e++)n[e>>>2]|=(s.charCodeAt(e)&255)<<24-e%4*8;return new F(n,r)}},St={parse(s){return bt.parse(unescape(encodeURIComponent(s)))}};class Bt{constructor(){this._minBufferSize=0,this.blockSize=512/32,this.reset()}reset(){this._data=new F,this._nDataBytes=0}_append(r){typeof r=="string"&&(r=St.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_doProcessBlock(r,n){}_process(r){let n,e=this._data.sigBytes/(this.blockSize*4);r?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const t=e*this.blockSize,o=Math.min(t*4,this._data.sigBytes);if(t){for(let i=0;i<t;i+=this.blockSize)this._doProcessBlock(this._data.words,i);n=this._data.words.splice(0,t),this._data.sigBytes-=o}return new F(n,o)}}class Ct extends Bt{update(r){return this._append(r),this._process(),this}finalize(r){r&&this._append(r)}}const Tt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],kt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],$=[];class Dt extends Ct{constructor(){super(),this.reset()}reset(){super.reset(),this._hash=new F([...Tt])}_doProcessBlock(r,n){const e=this._hash.words;let t=e[0],o=e[1],i=e[2],c=e[3],a=e[4],f=e[5],_=e[6],m=e[7];for(let l=0;l<64;l++){if(l<16)$[l]=r[n+l]|0;else{const w=$[l-15],D=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,b=$[l-2],I=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;$[l]=D+$[l-7]+I+$[l-16]}const h=a&f^~a&_,d=t&o^t&i^o&i,g=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),y=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),v=m+y+h+kt[l]+$[l],x=g+d;m=_,_=f,f=a,a=c+v|0,c=i,i=o,o=t,t=v+x|0}e[0]=e[0]+t|0,e[1]=e[1]+o|0,e[2]=e[2]+i|0,e[3]=e[3]+c|0,e[4]=e[4]+a|0,e[5]=e[5]+f|0,e[6]=e[6]+_|0,e[7]=e[7]+m|0}finalize(r){super.finalize(r);const n=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(e+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function Rt(s){return new Dt().finalize(s).toString(wt)}function At(s,r={}){const n=typeof s=="string"?s:vt(s,r);return Rt(n).slice(0,10)}function Vt(s,r,n){const[e={},t]=typeof r=="string"?[{},r]:[r,n],o=e.key||At([t,p(e.baseURL),typeof s=="string"?s:"",p(e.params||e.query)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!s)throw new Error("[nuxt] [useFetch] request is missing.");const i=o===t?"$f"+o:o,c=E(()=>{let D=s;return typeof D=="function"&&(D=D()),p(D)});if(!e.baseURL&&typeof c.value=="string"&&c.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:f,default:_,transform:m,pick:l,watch:h,immediate:d,...g}=e,y=G({...g,cache:typeof e.cache=="boolean"?void 0:e.cache}),v={server:a,lazy:f,default:_,transform:m,pick:l,immediate:d,watch:h===!1?[]:[y,c,...h||[]]};let x;return yt(i,()=>{var b;return(b=x==null?void 0:x.abort)==null||b.call(x),x=typeof AbortController<"u"?new AbortController:{},typeof c.value=="string"&&c.value.startsWith("/"),(e.$fetch||globalThis.$fetch)(c.value,{signal:x.signal,...y})},v)}const $t=at({}),Et={apiBaseURL:"https://akimutin-typing.vercel.app"},Ut=pt($t,Et);function Ot(){const s=X();return s._appConfig||(s._appConfig=G(Ut)),s._appConfig}const L=1e3,H=60*L,zt=(s,r,n)=>{O(e=>{if(!s.value)return;const t=setInterval(r,n);e(()=>{clearInterval(t)})})},Ft=()=>{},tt=(s,r,n=Ft)=>{const e=B(0),t=B(e.value),o=E(()=>e.value-t.value),i=E(()=>r-o.value),c=E(()=>Math.ceil(i.value/L));return O(()=>{s.value&&(t.value=e.value=Date.now())}),zt(s,()=>{e.value=Date.now()},L),O(()=>{c.value<=0&&n()}),[c,i,o]},A={hundredDivisor:100,hundredRange:{min:11,max:14},tenDivisor:10,singularTenRange:{min:1,max:1},exceptionalTenRange:{min:2,max:4}},et=(s,[r,n,e])=>{const t=s%A.hundredDivisor;if(A.hundredRange.min<=t&&t<=A.hundredRange.max)return` ${e}`;const o=s%A.tenDivisor;return A.singularTenRange.min<=o&&o<=A.singularTenRange.max?` ${r}`:A.exceptionalTenRange.min<=o&&o<=A.exceptionalTenRange.max?` ${n}`:` ${e}`},Mt={class:"AboutSection display-gap"},Nt=u("h1",{class:"text-h4"}," Измеритель скорости печати ",-1),It=u("p",null," На этом сайте вы сможете измерить свою скорость печати ",-1),Pt={class:"buttons"},Lt=["textContent"],Ht=P({__name:"AboutSection",props:{error:{type:Boolean}},setup(s,{emit:r}){const n=s,[e]=tt(E(()=>n.error),H,()=>{r("exit")}),t=E(()=>et(e.value,["секунду","секунды","секунд"]));return(o,i)=>{const c=C("VTooltip"),a=C("VBtn");return T(),M("section",Mt,[Nt,It,u("div",Pt,[k(a,{color:n.error?void 0:"primary",onClick:i[0]||(i[0]=f=>r("next")),disabled:n.error},{default:S(()=>[R(" Измерить скорость печати "),n.error?(T(),U(c,{key:0,modelValue:n.error,location:"bottom",activator:"parent"},{default:S(()=>[R(" Произошла ошибка... Попробуйте измерить скорость печати через "),u("strong",{textContent:V(p(e))},null,8,Lt),R(" "+V(p(t)),1)]),_:1},8,["modelValue"])):z("",!0)]),_:1},8,["color","disabled"])])])}}});const Wt=(s,r)=>{const n=Ot();return Vt(`/api/${s}`,{baseURL:n.apiBaseURL,...r},"$NYFmdBWFuu")},jt={TEXT:"text"},N=s=>(Q("data-v-649d129a"),s=s(),Y(),s),Kt={class:"TestSection display-gap"},Jt={key:0,class:"text-h4"},qt=N(()=>u("h1",{class:"text-h4"}," Наберите текст ",-1)),Xt=N(()=>u("col",{style:{width:"40%"}},null,-1)),Gt=N(()=>u("col",null,null,-1)),Qt=N(()=>u("th",null,"Осталось",-1)),Yt=["textContent"],Zt=N(()=>u("th",null,"Ошибок",-1)),te=["textContent"],ee={class:"buttons"},ne=P({__name:"TestSection",async setup(s,{emit:r}){let n,e;const t=B(),o=B(""),i=B(0),c=([n,e]=it(()=>Wt(jt.TEXT,{lazy:!0,server:!1})),n=await n,e(),n),[a,f,_]=tt(B(!0),H),m=E(()=>et(a.value,["секунда","секунды","секунд"])),l=(y,v)=>{const x=Array.from(c.data.value??""),w=Array.from(y).filter(Boolean);return w.filter((D,b)=>!v^w[b]===x[b]).length},h=(y=o.value)=>l(y,!0),d=(y=o.value)=>l(y,!1),g=()=>({speed:Math.round(h()/(_.value/H)),errors:i.value});return O(()=>{t.value&&(t.value.$el.querySelector("textarea").focus({preventScroll:!0}),window.scroll(0,0))}),O(()=>{c.error.value&&r("error")}),O(()=>{(f.value<=0||c.data.value===o.value)&&r("next",g())}),q(o,(y,v)=>{const x=d(y),w=d(v);x>w&&(i.value+=1)}),(y,v)=>{const x=C("VCard"),w=C("VTextarea"),D=C("VTable"),b=C("VBtn");return T(),M("section",Kt,[p(c).pending.value?(T(),M("h1",Jt," Подождите... ")):z("",!0),p(c).pending.value?z("",!0):(T(),M(ct,{key:1},[qt,k(x,{class:"api-text",variant:"outlined"},{default:S(()=>[R(V(p(c).data.value),1)]),_:1}),k(w,{ref_key:"textarea",ref:t,rows:5,variant:"outlined",counter:"","no-resize":"",modelValue:p(o),"onUpdate:modelValue":v[0]||(v[0]=I=>lt(o)?o.value=I:null)},null,8,["modelValue"]),k(D,null,{default:S(()=>[Xt,Gt,u("tbody",null,[u("tr",null,[Qt,u("td",null,[u("strong",{textContent:V(p(a))},null,8,Yt),R(" "+V(p(m)),1)])]),u("tr",null,[Zt,u("td",null,[u("strong",{textContent:V(p(i))},null,8,te)])])])]),_:1})],64)),u("div",ee,[k(b,{onClick:v[1]||(v[1]=I=>r("exit"))},{default:S(()=>[R(" Назад ")]),_:1})])])}}});const se=W(ne,[["__scopeId","data-v-649d129a"]]),j=s=>(Q("data-v-8328b50f"),s=s(),Y(),s),re={class:"ResultSection display-gap"},oe=j(()=>u("h1",{class:"text-h4"}," Ваши результаты ",-1)),ae=j(()=>u("th",null,"Скорость",-1)),ie=["textContent"],ce=j(()=>u("th",null,"Ошибок",-1)),le=["textContent"],ue={class:"buttons"},de=P({__name:"ResultSection",props:{result:{}},setup(s,{emit:r}){const n=s;return(e,t)=>{const o=C("VTable"),i=C("VBtn"),c=ut("focus");return T(),M("section",re,[oe,k(o,null,{default:S(()=>[u("tbody",null,[u("tr",null,[ae,u("td",null,[u("strong",{textContent:V(n.result.speed)},null,8,ie),R(" символов в минуту")])]),u("tr",null,[ce,u("td",null,[u("strong",{textContent:V(n.result.errors)},null,8,le)])])])]),_:1}),u("div",ue,[dt((T(),U(i,{onClick:t[0]||(t[0]=a=>r("back")),color:"primary"},{default:S(()=>[R(" Попробовать еще раз ")]),_:1})),[[c]]),k(i,{onClick:t[1]||(t[1]=a=>r("exit"))},{default:S(()=>[R(" На главную ")]),_:1})])])}}});const fe=W(de,[["__scopeId","data-v-8328b50f"]]),_e=P({__name:"index",setup(s){const r={ABOUT:{id:1,name:"about",isAbout:!0},TEST:{id:2,name:"test",isTest:!0},RESULT:{id:3,name:"result",isResult:!0}},n=B(r.ABOUT),e=B(!1),t=B(),o=ft(),i=()=>{e.value=!1,n.value=r.ABOUT},c=()=>{e.value=!0,n.value=r.ABOUT},a=()=>{e.value=!1,n.value=r.TEST},f=_=>{t.value=_,n.value=r.RESULT};return(_,m)=>{const l=Ht,h=C("VWindowItem"),d=se,g=fe,y=C("VWindow"),v=C("VCard");return T(),U(v,{class:_t(["container",{["display-mobile"]:p(o).mobile.value}])},{default:S(()=>[k(y,{class:"window",modelValue:p(n)},{default:S(()=>[k(h,{value:r.ABOUT},{default:S(()=>[p(n).isAbout?(T(),U(l,{key:0,error:p(e),onNext:a,onExit:i},null,8,["error"])):z("",!0)]),_:1},8,["value"]),k(h,{value:r.TEST},{default:S(()=>[p(n).isTest?(T(),U(d,{key:0,onNext:f,onExit:i,onError:c})):z("",!0)]),_:1},8,["value"]),k(h,{value:r.RESULT},{default:S(()=>[p(n).isResult?(T(),U(g,{key:0,result:p(t),onBack:a,onExit:i},null,8,["result"])):z("",!0)]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1},8,["class"])}}});const me=W(_e,[["__scopeId","data-v-1c76dd52"]]);export{me as default};
