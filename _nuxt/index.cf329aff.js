import{r as B,z as tt,A as et,B as j,C as J,u as st,D as h,E as nt,F as rt,c as O,G as ot,H as U,d as P,f as D,k as T,l as I,m as u,q as C,s as S,v as R,I as E,t as $,J as z,K as at,L as it,M as ct,x as q,y as G,N as lt,O as ut,P as dt,Q as _t}from"./entry.b7004f0a.js";import{_ as H}from"./_plugin-vue_export-helper.c27b6911.js";const ft=()=>null;function ht(...r){const n=typeof r[r.length-1]=="string"?r.pop():void 0;typeof r[0]!="string"&&r.unshift(n);let[s,e,t={}]=r;if(typeof s!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");t.server=t.server??!0,t.default=t.default??ft,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0;const o=st(),i=()=>o.isHydrating?o.payload.data[s]:o.static.data[s],c=()=>i()!==void 0;o._asyncData[s]||(o._asyncData[s]={data:B(i()??t.default()),pending:B(!c()),error:tt(o.payload._errors,s),status:B("idle")});const a={...o._asyncData[s]};a.refresh=a.execute=(l={})=>{if(o._asyncDataPromises[s]){if(l.dedupe===!1)return o._asyncDataPromises[s];o._asyncDataPromises[s].cancelled=!0}if((l._initial||o.isHydrating&&l._initial!==!1)&&c())return i();a.pending.value=!0,a.status.value="pending";const p=new Promise((d,g)=>{try{d(e(o))}catch(y){g(y)}}).then(d=>{if(p.cancelled)return o._asyncDataPromises[s];let g=d;t.transform&&(g=t.transform(d)),t.pick&&(g=pt(g,t.pick)),a.data.value=g,a.error.value=null,a.status.value="success"}).catch(d=>{if(p.cancelled)return o._asyncDataPromises[s];a.error.value=d,a.data.value=h(t.default()),a.status.value="error"}).finally(()=>{p.cancelled||(a.pending.value=!1,o.payload.data[s]=a.data.value,a.error.value&&(o.payload._errors[s]=nt(a.error.value)),delete o._asyncDataPromises[s])});return o._asyncDataPromises[s]=p,o._asyncDataPromises[s]};const _=()=>a.refresh({_initial:!0}),f=t.server!==!1&&o.payload.serverRendered;{const l=rt();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const d=l._nuxtOnBeforeMountCbs;l&&(et(()=>{d.forEach(g=>{g()}),d.splice(0,d.length)}),j(()=>d.splice(0,d.length)))}f&&o.isHydrating&&c()?(a.pending.value=!1,a.status.value=a.error.value?"error":"success"):l&&(o.payload.serverRendered&&o.isHydrating||t.lazy)&&t.immediate?l._nuxtOnBeforeMountCbs.push(_):t.immediate&&_(),t.watch&&J(t.watch,()=>a.refresh());const p=o.hook("app:data:refresh",d=>{if(!d||d.includes(s))return a.refresh()});l&&j(p)}const m=Promise.resolve(o._asyncDataPromises[s]).then(()=>a);return Object.assign(m,a),m}function pt(r,n){const s={};for(const e of n)s[e]=r[e];return s}const yt={ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1};function mt(r,n={}){n={...yt,...n};const s=Q(n);return s.dispatch(r),s.toString()}function Q(r){const n=[];let s=[];const e=t=>{n.push(t)};return{toString(){return n.join("")},getContext(){return s},dispatch(t){return r.replacer&&(t=r.replacer(t)),this["_"+(t===null?"null":typeof t)](t)},_object(t){if(t&&typeof t.toJSON=="function")return this._object(t.toJSON());const o=/\[object (.*)]/i,i=Object.prototype.toString.call(t),c=o.exec(i),a=c?c[1].toLowerCase():"unknown:["+i.toLowerCase()+"]";let _=null;if((_=s.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+_+"]");if(s.push(t),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return e("buffer:"),e(t.toString("utf8"));if(a!=="object"&&a!=="function"&&a!=="asyncfunction")this["_"+a]?this["_"+a](t):r.ignoreUnknown||this._unkown(t,a);else{let f=Object.keys(t);r.unorderedObjects&&(f=f.sort()),r.respectType!==!1&&!K(t)&&f.splice(0,0,"prototype","__proto__","letructor"),r.excludeKeys&&(f=f.filter(function(m){return!r.excludeKeys(m)})),e("object:"+f.length+":");for(const m of f)this.dispatch(m),e(":"),r.excludeValues||this.dispatch(t[m]),e(",")}},_array(t,o){if(o=typeof o<"u"?o:r.unorderedArrays!==!1,e("array:"+t.length+":"),!o||t.length<=1){for(const a of t)this.dispatch(a);return}const i=[],c=t.map(a=>{const _=Q(r);return _.dispatch(a),i.push(_.getContext()),_.toString()});return s=[...s,...i],c.sort(),this._array(c,!1)},_date(t){return e("date:"+t.toJSON())},_symbol(t){return e("symbol:"+t.toString())},_unkown(t,o){if(e(o),!!t&&(e(":"),t&&typeof t.entries=="function"))return this._array(Array.from(t.entries()),!0)},_error(t){return e("error:"+t.toString())},_boolean(t){return e("bool:"+t.toString())},_string(t){e("string:"+t.length+":"),e(t.toString())},_function(t){e("fn:"),K(t)?this.dispatch("[native]"):this.dispatch(t.toString()),r.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),r.respectFunctionProperties&&this._object(t)},_number(t){return e("number:"+t.toString())},_xml(t){return e("xml:"+t.toString())},_null(){return e("Null")},_undefined(){return e("Undefined")},_regexp(t){return e("regex:"+t.toString())},_uint8array(t){return e("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray(t){return e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array(t){return e("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array(t){return e("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array(t){return e("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array(t){return e("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array(t){return e("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array(t){return e("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array(t){return e("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer(t){return e("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url(t){return e("url:"+t.toString())},_map(t){e("map:");const o=[...t];return this._array(o,r.unorderedSets!==!1)},_set(t){e("set:");const o=[...t];return this._array(o,r.unorderedSets!==!1)},_file(t){return e("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob(){if(r.ignoreUnknown)return e("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow(){return e("domwindow")},_bigint(t){return e("bigint:"+t.toString())},_process(){return e("process")},_timer(){return e("timer")},_pipe(){return e("pipe")},_tcp(){return e("tcp")},_udp(){return e("udp")},_tty(){return e("tty")},_statwatcher(){return e("statwatcher")},_securecontext(){return e("securecontext")},_connection(){return e("connection")},_zlib(){return e("zlib")},_context(){return e("context")},_nodescript(){return e("nodescript")},_httpparser(){return e("httpparser")},_dataview(){return e("dataview")},_signal(){return e("signal")},_fsevent(){return e("fsevent")},_tlswrap(){return e("tlswrap")}}}function K(r){return typeof r!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code]\s+}$/i.exec(Function.prototype.toString.call(r))!=null}class M{constructor(n,s){n=this.words=n||[],this.sigBytes=s!==void 0?s:n.length*4}toString(n){return(n||gt).stringify(this)}concat(n){if(this.clamp(),this.sigBytes%4)for(let s=0;s<n.sigBytes;s++){const e=n.words[s>>>2]>>>24-s%4*8&255;this.words[this.sigBytes+s>>>2]|=e<<24-(this.sigBytes+s)%4*8}else for(let s=0;s<n.sigBytes;s+=4)this.words[this.sigBytes+s>>>2]=n.words[s>>>2];return this.sigBytes+=n.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new M([...this.words])}}const gt={stringify(r){const n=[];for(let s=0;s<r.sigBytes;s++){const e=r.words[s>>>2]>>>24-s%4*8&255;n.push((e>>>4).toString(16),(e&15).toString(16))}return n.join("")}},vt={stringify(r){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=[];for(let e=0;e<r.sigBytes;e+=3){const t=r.words[e>>>2]>>>24-e%4*8&255,o=r.words[e+1>>>2]>>>24-(e+1)%4*8&255,i=r.words[e+2>>>2]>>>24-(e+2)%4*8&255,c=t<<16|o<<8|i;for(let a=0;a<4&&e*8+a*6<r.sigBytes*8;a++)s.push(n.charAt(c>>>6*(3-a)&63))}return s.join("")}},xt={parse(r){const n=r.length,s=[];for(let e=0;e<n;e++)s[e>>>2]|=(r.charCodeAt(e)&255)<<24-e%4*8;return new M(s,n)}},bt={parse(r){return xt.parse(unescape(encodeURIComponent(r)))}};class wt{constructor(){this._minBufferSize=0,this.blockSize=512/32,this.reset()}reset(){this._data=new M,this._nDataBytes=0}_append(n){typeof n=="string"&&(n=bt.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes}_doProcessBlock(n,s){}_process(n){let s,e=this._data.sigBytes/(this.blockSize*4);n?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const t=e*this.blockSize,o=Math.min(t*4,this._data.sigBytes);if(t){for(let i=0;i<t;i+=this.blockSize)this._doProcessBlock(this._data.words,i);s=this._data.words.splice(0,t),this._data.sigBytes-=o}return new M(s,o)}}class St extends wt{update(n){return this._append(n),this._process(),this}finalize(n){n&&this._append(n)}}const Bt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Tt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],A=[];class kt extends St{constructor(){super(),this.reset()}reset(){super.reset(),this._hash=new M([...Bt])}_doProcessBlock(n,s){const e=this._hash.words;let t=e[0],o=e[1],i=e[2],c=e[3],a=e[4],_=e[5],f=e[6],m=e[7];for(let l=0;l<64;l++){if(l<16)A[l]=n[s+l]|0;else{const w=A[l-15],k=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,b=A[l-2],Z=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;A[l]=k+A[l-7]+Z+A[l-16]}const p=a&_^~a&f,d=t&o^t&i^o&i,g=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),y=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),v=m+y+p+Tt[l]+A[l],x=g+d;m=f,f=_,_=a,a=c+v|0,c=i,i=o,o=t,t=v+x|0}e[0]=e[0]+t|0,e[1]=e[1]+o|0,e[2]=e[2]+i|0,e[3]=e[3]+c|0,e[4]=e[4]+a|0,e[5]=e[5]+_|0,e[6]=e[6]+f|0,e[7]=e[7]+m|0}finalize(n){super.finalize(n);const s=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(s/4294967296),this._data.words[(e+64>>>9<<4)+15]=s,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function Ct(r){return new kt().finalize(r).toString(vt)}function Dt(r,n={}){const s=typeof r=="string"?r:mt(r,n);return Ct(s).slice(0,10)}function Rt(r,n,s){const[e={},t]=typeof n=="string"?[{},n]:[n,s],o=e.key||Dt([t,h(e.baseURL),typeof r=="string"?r:"",h(e.params||e.query)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!r)throw new Error("[nuxt] [useFetch] request is missing.");const i=o===t?"$f"+o:o,c=O(()=>{let k=r;return typeof k=="function"&&(k=k()),h(k)});if(!e.baseURL&&typeof c.value=="string"&&c.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:_,default:f,transform:m,pick:l,watch:p,immediate:d,...g}=e,y=ot({...g,cache:typeof e.cache=="boolean"?void 0:e.cache}),v={server:a,lazy:_,default:f,transform:m,pick:l,immediate:d,watch:p===!1?[]:[y,c,...p||[]]};let x;return ht(i,()=>{var b;return(b=x==null?void 0:x.abort)==null||b.call(x),x=typeof AbortController<"u"?new AbortController:{},typeof c.value=="string"&&c.value.startsWith("/"),(e.$fetch||globalThis.$fetch)(c.value,{signal:x.signal,...y})},v)}const F=1e3,L=60*F,Vt=(r,n,s)=>{U(e=>{if(!r.value)return;const t=setInterval(n,s);e(()=>{clearInterval(t)})})},$t=()=>{},X=(r,n,s=$t)=>{const e=B(0),t=B(e.value),o=O(()=>e.value-t.value),i=O(()=>n-o.value),c=O(()=>Math.ceil(i.value/F));return U(()=>{r.value&&(t.value=e.value=Date.now())}),Vt(r,()=>{e.value=Date.now()},F),U(()=>{c.value<=0&&s()}),[c,i,o]},V={hundredDivisor:100,hundredRange:{min:11,max:14},tenDivisor:10,singularTenRange:{min:1,max:1},exceptionalTenRange:{min:2,max:4}},Y=(r,[n,s,e])=>{const t=r%V.hundredDivisor;if(V.hundredRange.min<=t&&t<=V.hundredRange.max)return` ${e}`;const o=r%V.tenDivisor;return V.singularTenRange.min<=o&&o<=V.singularTenRange.max?` ${n}`:V.exceptionalTenRange.min<=o&&o<=V.exceptionalTenRange.max?` ${s}`:` ${e}`},At={class:"AboutSection display-gap"},Ot=u("h1",{class:"text-h4"}," Измеритель скорости печати ",-1),Et=u("p",null," На этом сайте вы сможете измерить свою скорость печати ",-1),Ut={class:"buttons"},zt=["textContent"],Mt=P({__name:"AboutSection",props:{error:{type:Boolean}},setup(r,{emit:n}){const s=r,[e]=X(O(()=>s.error),L,()=>{n("exit")}),t=O(()=>Y(e.value,["секунду","секунды","секунд"]));return(o,i)=>{const c=D("VTooltip"),a=D("VBtn");return T(),I("section",At,[Ot,Et,u("div",Ut,[C(a,{color:s.error?void 0:"primary",onClick:i[0]||(i[0]=_=>n("next")),disabled:s.error},{default:S(()=>[R(" Измерить скорость печати "),s.error?(T(),E(c,{key:0,modelValue:s.error,location:"bottom",activator:"parent"},{default:S(()=>[R(" Произошла ошибка... Попробуйте измерить скорость печати через "),u("strong",{textContent:$(h(e))},null,8,zt),R(" "+$(h(t)),1)]),_:1},8,["modelValue"])):z("",!0)]),_:1},8,["color","disabled"])])])}}});const N=r=>(q("data-v-e2b74281"),r=r(),G(),r),It={class:"TestSection display-gap"},Nt={key:0,class:"text-h4"},Pt=N(()=>u("h1",{class:"text-h4"},[R(" Наберите текст "),u("small",null,"(без кавычек)")],-1)),Ft=N(()=>u("col",{style:{width:"40%"}},null,-1)),Lt=N(()=>u("col",null,null,-1)),Ht=N(()=>u("th",null,"Осталось",-1)),Wt=["textContent"],jt=N(()=>u("th",null,"Ошибок",-1)),Kt=["textContent"],Jt={class:"buttons"},qt=P({__name:"TestSection",async setup(r,{emit:n}){let s,e;const t=B(),o=B(""),i=B(0),c=([s,e]=at(()=>Rt("/api/text",{lazy:!0,server:!1},"$vbghWRVgLc")),s=await s,e(),s),[a,_,f]=X(B(!0),L),m=O(()=>Y(a.value,["секунда","секунды","секунд"])),l=(y,v)=>{const x=Array.from(c.data.value??""),w=Array.from(y).filter(Boolean);return w.filter((k,b)=>!v^w[b]===x[b]).length},p=(y=o.value)=>l(y,!0),d=(y=o.value)=>l(y,!1),g=()=>({speed:Math.round(p()/(f.value/L)),errors:i.value});return U(()=>{t.value&&t.value.$el.querySelector("textarea").focus({preventScroll:!0})}),U(()=>{c.error.value&&n("error")}),U(()=>{(_.value<=0||c.data.value===o.value)&&n("next",g())}),J(o,(y,v)=>{const x=d(y),w=d(v);x>w&&(i.value+=1)}),(y,v)=>{const x=D("VTable"),w=D("VTextarea"),k=D("VBtn");return T(),I("section",It,[h(c).pending.value?(T(),I("h1",Nt," Подождите... ")):z("",!0),h(c).pending.value?z("",!0):(T(),I(it,{key:1},[Pt,u("p",null,$(h(c).data),1),C(x,null,{default:S(()=>[Ft,Lt,u("tbody",null,[u("tr",null,[Ht,u("td",null,[u("strong",{textContent:$(h(a))},null,8,Wt),R(" "+$(h(m)),1)])]),u("tr",null,[jt,u("td",null,[u("strong",{textContent:$(h(i))},null,8,Kt)])])])]),_:1}),C(w,{ref_key:"textarea",ref:t,rows:5,variant:"solo",counter:"","no-resize":"",modelValue:h(o),"onUpdate:modelValue":v[0]||(v[0]=b=>ct(o)?o.value=b:null)},null,8,["modelValue"])],64)),u("div",Jt,[C(k,{onClick:v[1]||(v[1]=b=>n("exit"))},{default:S(()=>[R(" Назад ")]),_:1})])])}}});const Gt=H(qt,[["__scopeId","data-v-e2b74281"]]),W=r=>(q("data-v-8328b50f"),r=r(),G(),r),Qt={class:"ResultSection display-gap"},Xt=W(()=>u("h1",{class:"text-h4"}," Ваши результаты ",-1)),Yt=W(()=>u("th",null,"Скорость",-1)),Zt=["textContent"],te=W(()=>u("th",null,"Ошибок",-1)),ee=["textContent"],se={class:"buttons"},ne=P({__name:"ResultSection",props:{result:{}},setup(r,{emit:n}){const s=r;return(e,t)=>{const o=D("VTable"),i=D("VBtn"),c=lt("focus");return T(),I("section",Qt,[Xt,C(o,null,{default:S(()=>[u("tbody",null,[u("tr",null,[Yt,u("td",null,[u("strong",{textContent:$(s.result.speed)},null,8,Zt),R(" символов в минуту")])]),u("tr",null,[te,u("td",null,[u("strong",{textContent:$(s.result.errors)},null,8,ee)])])])]),_:1}),u("div",se,[ut((T(),E(i,{onClick:t[0]||(t[0]=a=>n("back")),color:"primary"},{default:S(()=>[R(" Попробовать еще раз ")]),_:1})),[[c]]),C(i,{onClick:t[1]||(t[1]=a=>n("exit"))},{default:S(()=>[R(" На главную ")]),_:1})])])}}});const re=H(ne,[["__scopeId","data-v-8328b50f"]]),oe=P({__name:"index",setup(r){const n={ABOUT:{id:1,name:"about",isAbout:!0},TEST:{id:2,name:"test",isTest:!0},RESULT:{id:3,name:"result",isResult:!0}},s=B(n.ABOUT),e=B(!1),t=B(),o=dt(),i=()=>{e.value=!1,s.value=n.ABOUT},c=()=>{e.value=!0,s.value=n.ABOUT},a=()=>{e.value=!1,s.value=n.TEST},_=f=>{t.value=f,s.value=n.RESULT};return(f,m)=>{const l=Mt,p=D("VWindowItem"),d=Gt,g=re,y=D("VWindow"),v=D("VCard");return T(),E(v,{class:_t(["container",{["display-mobile"]:h(o).mobile.value}])},{default:S(()=>[C(y,{class:"window",modelValue:h(s)},{default:S(()=>[C(p,{value:n.ABOUT},{default:S(()=>[h(s).isAbout?(T(),E(l,{key:0,error:h(e),onNext:a,onExit:i},null,8,["error"])):z("",!0)]),_:1},8,["value"]),C(p,{value:n.TEST},{default:S(()=>[h(s).isTest?(T(),E(d,{key:0,onNext:_,onExit:i,onError:c})):z("",!0)]),_:1},8,["value"]),C(p,{value:n.RESULT},{default:S(()=>[h(s).isResult?(T(),E(g,{key:0,result:h(t),onBack:a,onExit:i},null,8,["result"])):z("",!0)]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1},8,["class"])}}});const ce=H(oe,[["__scopeId","data-v-1c76dd52"]]);export{ce as default};
