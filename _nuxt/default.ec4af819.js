import{e as s,P as k,d as g,r as C,Q as K,R as x,S as h,T as m,_ as R,U as T,V,W as w,X as S,c as j,Y as b,G as B,u as H,f,k as L,I as M,s as l,q as p}from"./entry.091ae902.js";import{_ as N}from"./_plugin-vue_export-helper.c27b6911.js";function _(e){return e!==null&&typeof e=="object"}function d(e,r,t=".",n){if(!_(r))return d(e,{},t,n);const o=Object.assign({},r);for(const a in e){if(a==="__proto__"||a==="constructor")continue;const i=e[a];i!=null&&(n&&n(o,a,i,t)||(Array.isArray(i)&&Array.isArray(o[a])?o[a]=[...i,...o[a]]:_(i)&&_(o[a])?o[a]=d(i,o[a],(t?`${t}.`:"")+a.toString(),n):o[a]=i))}return o}function I(e){return(...r)=>r.reduce((t,n)=>d(t,n,"",e),{})}const O=I(),P=(e,r)=>r.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,t=>{var n;return((n=e.params[t.slice(1)])==null?void 0:n.toString())||""}),$=(e,r)=>{const t=e.route.matched.find(o=>{var a;return((a=o.components)==null?void 0:a.default)===e.Component.type}),n=r??(t==null?void 0:t.meta.key)??(t&&P(e.route,t));return typeof n=="function"?n(e.route):n},q=(e,r)=>({default:()=>e?s(k,e===!0?{}:e,r):r}),D=g({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:r,expose:t}){const n=H(),o=C();t({pageRef:o});const a=K(x,null);let i;return()=>s(h,{name:e.name,route:e.route,...r},{default:u=>{if(!u.Component)return;if(i&&a&&!a.isCurrent(u.route))return i;const y=$(u,e.pageKey),v=n.deferHydration(),c=!!(e.transition??u.route.meta.pageTransition??m),A=c&&G([e.transition,u.route.meta.pageTransition,m,{onAfterLeave:()=>{n.callHook("page:transition:finish",u.Component)}}].filter(Boolean));return i=R(S,c&&A,q(e.keepalive??u.route.meta.keepalive??w,s(T,{suspensible:!0,onPending:()=>n.callHook("page:start",u.Component),onResolve:()=>{V(()=>n.callHook("page:finish",u.Component).finally(v))}},{default:()=>s(Q,{key:y,routeProps:u,pageKey:y,hasTransition:c,pageRef:o})}))).default(),i}})}});function F(e){return Array.isArray(e)?e:e?[e]:[]}function G(e){const r=e.map(t=>({...t,onAfterLeave:F(t.onAfterLeave)}));return O(...r)}const Q=g({name:"RouteProvider",props:["routeProps","pageKey","hasTransition","pageRef"],setup(e){const r=e.pageKey,t=e.routeProps.route,n={};for(const o in e.routeProps.route)n[o]=j(()=>r===e.pageKey?e.routeProps.route[o]:t[o]);return b("_route",B(n)),()=>s(e.routeProps.Component,{ref:e.pageRef})}}),U={};function W(e,r){const t=D,n=f("VContainer"),o=f("VMain"),a=f("VApp");return L(),M(a,null,{default:l(()=>[p(o,null,{default:l(()=>[p(n,null,{default:l(()=>[p(t)]),_:1})]),_:1})]),_:1})}const z=N(U,[["render",W]]);export{z as default};
